//#include "Self.h"
//
//void Features::Self::Loop() {
//	while (true) {
//		std::unique_lock<std::mutex> lock(g_Variables->SelfMutex);
//		g_Variables->SelfCV.wait_for(lock, std::chrono::milliseconds(10));
//
//		if (!SDK::g_Cache->pLocalPed) continue;
//		if (!SDK::g_Cache->pPedCamera) continue;
//
//		//Self	
//		static bool bWasGodmode = false;
//		if (g_Variables->Self.godmode) {
//			SDK::g_Cache->pLocalPed->bSetGodmode(true);
//			bWasGodmode = true;
//		}
//		else if (!g_Variables->Self.godmode && bWasGodmode) {
//			SDK::g_Cache->pLocalPed->bSetGodmode(false);
//			bWasGodmode = false;
//		}
//
//		static bool bWasAntiHeadShot = false;
//		if (g_Variables->Self.anti_head_shot) {
//			SDK::g_Cache->pLocalPed->SetConfigFlag(CPED_CONFIG_FLAG_NoCriticalHits, true);
//			bWasAntiHeadShot = true;
//		}
//		else if (!g_Variables->Self.anti_head_shot && bWasAntiHeadShot) {
//			SDK::g_Cache->pLocalPed->SetConfigFlag(CPED_CONFIG_FLAG_NoCriticalHits, false);
//			bWasAntiHeadShot = false;
//		}
//
//		static bool bWasInvisible = false;
//		if (g_Variables->Self.invisible) {
//			SDK::g_Cache->pLocalPed->pNetObject()->bSetInvisible(true);
//			SDK::CPedPool = gb;
//			bWasInvisible = true;
//		}
//		else if (!g_Variables->Self.invisible && bWasInvisible) {
//			SDK::g_Cache->pLocalPed->pNetObject()->bSetInvisible(false);
//			bWasInvisible = false;
//		}
//
//		static bool bWasTinyPlayer = false;
//		if (g_Variables->Self.tiny_player) {
//			SDK::g_Cache->pLocalPed->SetConfigFlag(CPED_CONFIG_FLAG_UseAmbientModelScaling, true);
//			bWasTinyPlayer = true;
//		}
//		else if (!g_Variables->Self.tiny_player && bWasTinyPlayer) {
//			SDK::g_Cache->pLocalPed->SetConfigFlag(CPED_CONFIG_FLAG_UseAmbientModelScaling, false);
//			bWasTinyPlayer = false;
//		}
//
//		if (g_Variables->Self.auto_health) {
//			static auto last_health_set_time = std::chrono::steady_clock::now();
//			auto now = std::chrono::steady_clock::now();
//			float elapsed_seconds = std::chrono::duration<float>(now - last_health_set_time).count();
//
//			if (elapsed_seconds >= g_Variables->Self.auto_health_delay) {
//				SDK::g_Cache->pLocalPed->fSetHealth(199);
//				last_health_set_time = now;
//			}
//		}
//
//		if (g_Variables->Self.auto_armor) {
//			static auto last_armor_set_time = std::chrono::steady_clock::now();
//			auto now = std::chrono::steady_clock::now();
//			float elapsed_seconds = std::chrono::duration<float>(now - last_armor_set_time).count();
//
//			if (elapsed_seconds >= g_Variables->Self.auto_armor_delay) {
//				SDK::g_Cache->pLocalPed->fSetArmor(99);
//				last_armor_set_time = now;
//			}
//		}
//
//		static bool bWasNoCollision = false;
//		if (g_Variables->Self.no_collision) {
//			uintptr_t Navigation2 = Cheat::Memory::Read<uintptr_t>((uintptr_t)SDK::g_Cache->pLocalPed->pNavigation() + 0x10);
//			if (Navigation2) {
//				uintptr_t Navigation3 = Cheat::Memory::Read<uintptr_t>(Navigation2 + 0x20);
//				if (Navigation3) {
//					uintptr_t Navigation4 = Cheat::Memory::Read<uintptr_t>(Navigation3 + 0x70);
//					if (Navigation4) {
//						uintptr_t Navigation5 = Cheat::Memory::Read<uintptr_t>(Navigation4 + 0x0);
//						if (Navigation5) {
//							Cheat::Memory::Write<float>(Navigation5 + 0x2C, -1.0f);
//						}
//					}
//				}
//			}
//			bWasNoCollision = true;
//		}
//		else if (!g_Variables->Self.no_collision && bWasNoCollision) {
//			uintptr_t Navigation2 = Cheat::Memory::Read<uintptr_t>((uintptr_t)SDK::g_Cache->pLocalPed->pNavigation() + 0x10);
//			if (Navigation2) {
//				uintptr_t Navigation3 = Cheat::Memory::Read<uintptr_t>(Navigation2 + 0x20);
//				if (Navigation3) {
//					uintptr_t Navigation4 = Cheat::Memory::Read<uintptr_t>(Navigation3 + 0x70);
//					if (Navigation4) {
//						uintptr_t Navigation5 = Cheat::Memory::Read<uintptr_t>(Navigation4 + 0x0);
//						if (Navigation5) {
//							Cheat::Memory::Write<float>(Navigation5 + 0x2C, 0.25f);
//						}
//					}
//				}
//			}
//			bWasNoCollision = false;
//		}
//
//		static bool bWasNoRagDoll = false;
//		if (g_Variables->Self.no_ragdoll) {
//			SDK::g_Cache->pLocalPed->cSetPedType(0x0);
//			bWasNoRagDoll = true;
//		}
//		else if (!g_Variables->Self.no_ragdoll && bWasNoRagDoll) {
//			SDK::g_Cache->pLocalPed->cSetPedType(0x20);
//			bWasNoRagDoll = false;
//		}
//
//		static bool bWasClearTask = false;
//		if (g_Variables->Self.clear_task) {
//			SDK::g_Cache->pLocalPed->pVehicle()->pModelInfo()->fClearTask(0.f);
//			bWasClearTask = true;
//		}
//		else if (!g_Variables->Self.clear_task && bWasClearTask) {
//			SDK::g_Cache->pLocalPed->pVehicle()->pModelInfo()->fClearTask(1.f);
//			bWasClearTask = false;
//		}
//
//		if (g_Variables->Self.give_health) {
//			SDK::g_Cache->pLocalPed->fSetHealth(g_Variables->Self.health_amount);
//			g_Variables->Self.give_health = false;
//		}
//
//		if (g_Variables->Self.give_armor) {
//			SDK::g_Cache->pLocalPed->fSetArmor(g_Variables->Self.armor_amount);
//			g_Variables->Self.give_armor = false;
//		}
//
//		if (g_Variables->Self.suicide) {
//			SDK::g_Cache->pLocalPed->fSetHealth(0);
//			g_Variables->Self.suicide = false;
//		}
//
//		static bool bWasNoclip = false;
//		static bool bWasInvisibleNoclip = false;
//		if (g_Variables->Self.Noclip.activate) {
//			Vector3 vRotation = SDK::g_Cache->pPedCamera->pCam()->vRotation(SDK::g_Cache->pPedCamera->pCam()->pMetaData()->bIsFristPerson());
//			Vector3 vLocation;
//
//			if (SDK::g_Cache->pLocalPed->btPedTask() & (1 << 6)) {
//				vLocation = SDK::g_Cache->pLocalPed->pVehicle()->vLocation();
//			}
//			else {
//				vLocation = SDK::g_Cache->pLocalPed->vLocation();
//			}
//
//			float fSpeed = g_Variables->Self.Noclip.speed - 0.7f;
//
//			if (GetAsyncKeyState(VK_SHIFT)) {
//				if (g_Variables->Self.Noclip.speed < 5.0f) {
//					fSpeed *= 2.5f;
//				}
//				else {
//					fSpeed *= 1.5f;
//				}
//			}
//
//			if (g_Variables->Self.Noclip.invisible_while_noclip) {
//				if (SDK::g_Cache->pLocalPed->btPedTask() & (1 << 6)) {
//					SDK::g_Cache->pLocalPed->pVehicle()->pNetObject()->bSetInvisible(true);
//				}
//				SDK::g_Cache->pLocalPed->pNetObject()->bSetInvisible(true);
//
//				bWasInvisibleNoclip = true;
//			}
//			else if (!g_Variables->Self.Noclip.invisible_while_noclip && bWasInvisibleNoclip) {
//				if (SDK::g_Cache->pLocalPed->btPedTask() & (1 << 6)) {
//					SDK::g_Cache->pLocalPed->pVehicle()->pNetObject()->bSetInvisible(false);
//				}
//				SDK::g_Cache->pLocalPed->pNetObject()->bSetInvisible(false);
//
//				bWasInvisibleNoclip = false;
//			}
//
//			if (SDK::g_Cache->pLocalPed->btPedTask() & (1 << 6)) {
//				SDK::g_Cache->pLocalPed->pVehicle()->pModelInfo()->fClearTask(0.f);
//			}
//			else {
//				SDK::g_Cache->pLocalPed->pModelInfo()->fClearTask(0.f);
//			}
//
//			if (GetAsyncKeyState(0x57) & 0x8000) { // W
//				vLocation.x += (vRotation.x * fSpeed);
//				vLocation.y += (vRotation.y * fSpeed);
//				vLocation.z += (vRotation.z * fSpeed);
//			}
//
//			if (GetAsyncKeyState(0x53) & 0x8000) { // S
//				vLocation.x -= (vRotation.x * fSpeed);
//				vLocation.y -= (vRotation.y * fSpeed);
//				vLocation.z -= (vRotation.z * fSpeed);
//			}
//
//			if (GetAsyncKeyState(0x41) & 0x8000) { // A
//				vLocation.x -= (vRotation.y * fSpeed);
//				vLocation.y += (vRotation.x * fSpeed);
//				vLocation.z += (vRotation.z * fSpeed);
//			}
//
//			if (GetAsyncKeyState(0x44) & 0x8000) { // D
//				vLocation.x += (vRotation.y * fSpeed);
//				vLocation.y -= (vRotation.x * fSpeed);
//				vLocation.z -= (vRotation.z * fSpeed);
//			}
//
//			if (GetAsyncKeyState(0x20) & 0x8000) { // Up
//				vLocation.z += fSpeed;
//			}
//
//			if (GetAsyncKeyState(0x11) & 0x8000) { // Down
//				vLocation.z -= fSpeed;
//			}
//
//			if (SDK::g_Cache->pLocalPed->btPedTask() & (1 << 6)) {
//				SDK::g_Cache->pLocalPed->pVehicle()->vSetLocation(vLocation);
//				SDK::g_Cache->pLocalPed->pVehicle()->pNavigation()->vSetLocation(vLocation);
//			}
//			else {
//				SDK::g_Cache->pLocalPed->vSetLocation(vLocation);
//				SDK::g_Cache->pLocalPed->pNavigation()->vSetLocation(vLocation);
//			}
//
//			bWasNoclip = true;
//		}
//		else if (!g_Variables->Self.Noclip.activate && bWasNoclip) {
//			if (g_Variables->Self.Noclip.invisible_while_noclip || bWasInvisibleNoclip) {
//				if (SDK::g_Cache->pLocalPed->btPedTask() & (1 << 6)) {
//					SDK::g_Cache->pLocalPed->pVehicle()->pNetObject()->bSetInvisible(false);
//				}
//				SDK::g_Cache->pLocalPed->pNetObject()->bSetInvisible(false);
//
//				bWasInvisibleNoclip = false;
//			}
//
//			if (SDK::g_Cache->pLocalPed->btPedTask() & (1 << 6)) {
//				SDK::g_Cache->pLocalPed->pVehicle()->pModelInfo()->fClearTask(1.f);
//			}
//			SDK::g_Cache->pLocalPed->pModelInfo()->fClearTask(1.f);
//
//			bWasNoclip = false;
//		}
//
//		static bool bWasRunSpeed = false;
//		if (g_Variables->Self.run_speed) {
//			SDK::g_Cache->pLocalPed->pPlayerInfo()->fSetRunSpeed(g_Variables->Self.run_speed_amount);
//			bWasRunSpeed = true;
//		}
//		else if (!g_Variables->Self.run_speed && bWasRunSpeed) {
//			SDK::g_Cache->pLocalPed->pPlayerInfo()->fSetRunSpeed(1);
//			bWasRunSpeed = false;
//		}
//
//		static bool bWasSwimSpeed = false;
//		if (g_Variables->Self.swim_speed) {
//			SDK::g_Cache->pLocalPed->pPlayerInfo()->fSetSwimSpeed(g_Variables->Self.swim_speed_amount);
//			bWasSwimSpeed = true;
//		}
//		else if (!g_Variables->Self.swim_speed && bWasSwimSpeed) {
//			SDK::g_Cache->pLocalPed->pPlayerInfo()->fSetSwimSpeed(1);
//			bWasSwimSpeed = false;
//		}
//
//		if (g_Variables->Self.infinity_stamina) {
//			SDK::g_Cache->pLocalPed->pPlayerInfo()->fSetStamina(100);
//		}
//
//		static bool bWasInfCombatRoll = false;
//		if (g_Variables->Self.infinity_combat_roll) {
//			std::vector<uint8_t> nop = { 0x48, 0xB8, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xC3 };
//			std::vector<uint8_t> ori_nop = { 0x48, 0x89, 0x5C, 0x24, 0x10, 0x48, 0x89, 0x74, 0x24, 0x18, 0x57 };
//
//			Cheat::Memory::WriteRaw(Cheat::Memory::BaseAddress + SDK::g_Pointers->m_CanCombatRoll, true ? &nop[0] : &ori_nop[0], nop.size());
//			bWasInfCombatRoll = true;
//		}
//		else if (!g_Variables->Self.infinity_combat_roll && bWasInfCombatRoll) {
//			std::vector<uint8_t> nop = { 0x48, 0xB8, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xC3 };
//			std::vector<uint8_t> ori_nop = { 0x48, 0x89, 0x5C, 0x24, 0x10, 0x48, 0x89, 0x74, 0x24, 0x18, 0x57 };
//
//			Cheat::Memory::WriteRaw(Cheat::Memory::BaseAddress + SDK::g_Pointers->m_CanCombatRoll, false ? &nop[0] : &ori_nop[0], nop.size());
//			bWasInfCombatRoll = false;
//		}
//
//		if (g_Variables->Self.super_jump) {
//			SDK::g_Cache->pLocalPed->pPlayerInfo()->eSetFrameFlags(1 << 14);
//		}
//
//		if (g_Variables->Self.beast_jump) {
//			SDK::g_Cache->pLocalPed->pPlayerInfo()->eSetFrameFlags(1 << 28);
//		}
//
//		//Weapon
//		if (SDK::g_Cache->pLocalPed->pWeaponManager()) {
//			if (g_Variables->Self.Weapon.remove_recoil) {
//				SDK::g_Cache->pLocalPed->pWeaponManager()->pWeaponInfo()->fSetRecoil(g_Variables->Self.Weapon.recoil_amount);
//			}
//
//			if (g_Variables->Self.Weapon.remove_spread) {
//				SDK::g_Cache->pLocalPed->pWeaponManager()->pWeaponInfo()->fSetSpread(g_Variables->Self.Weapon.spread_amount);
//			}
//
//			static bool bWasExplosiveAmmo = false;
//			if (g_Variables->Self.Weapon.explosive_ammo) {
//				SDK::g_Cache->pLocalPed->pWeaponManager()->pWeaponInfo()->eSetDamageType(eDamageType::Explosive);
//
//				if (g_Variables->Self.Weapon.explosive_ammo_type == 0) {
//					SDK::g_Cache->pLocalPed->pWeaponManager()->pWeaponInfo()->eSetImpactType(eImpactType::GRENADE);
//				}
//
//				if (g_Variables->Self.Weapon.explosive_ammo_type == 1) {
//					SDK::g_Cache->pLocalPed->pWeaponManager()->pWeaponInfo()->eSetImpactType(eImpactType::CAR);
//				}
//
//				if (g_Variables->Self.Weapon.explosive_ammo_type == 2) {
//					SDK::g_Cache->pLocalPed->pWeaponManager()->pWeaponInfo()->eSetImpactType(eImpactType::SPOOF_EXPLOSION);
//
//				}
//				bWasExplosiveAmmo = true;
//			}
//			else if (!g_Variables->Self.Weapon.explosive_ammo && bWasExplosiveAmmo) {
//				SDK::g_Cache->pLocalPed->pWeaponManager()->pWeaponInfo()->eSetDamageType(eDamageType::None);
//				SDK::g_Cache->pLocalPed->pWeaponManager()->pWeaponInfo()->eSetImpactType(eImpactType::DEFAULT_BULLETS);
//				bWasExplosiveAmmo = false;
//			}
//
//			if (g_Variables->Self.Weapon.explosive_ammo_v2) {
//				SDK::g_Cache->pLocalPed->pPlayerInfo()->eSetFrameFlags(1 << 13);
//			}
//
//			static bool bWasFreezeAmmo = false;
//			if (g_Variables->Self.Weapon.freeze_ammo) {
//				SDK::g_Cache->pLocalPed->pInventory()->SetUnlimitedAmmo(2);
//				bWasFreezeAmmo = true;
//			}
//			else if (!g_Variables->Self.Weapon.freeze_ammo && bWasFreezeAmmo) {
//				SDK::g_Cache->pLocalPed->pInventory()->SetUnlimitedAmmo(0);
//				bWasFreezeAmmo = false;
//			}
//
//			if (g_Variables->Self.Weapon.fire_ammo) {
//				SDK::g_Cache->pLocalPed->pPlayerInfo()->eSetFrameFlags(1 << 12);
//			}
//
//			if (g_Variables->Self.Weapon.double_shoot) {
//				SDK::g_Cache->pLocalPed->pWeaponManager()->pWeaponInfo()->fSetDoubleBullet(-2.f);
//			}
//
//			if (g_Variables->Self.Weapon.fast_reload) {
//				SDK::g_Cache->pLocalPed->pWeaponManager()->pWeaponInfo()->fSetReloadTime(14.f);
//			}
//
//			if (g_Variables->Self.Weapon.damage_modifier) {
//				SDK::g_Cache->pLocalPed->pWeaponManager()->pWeaponInfo()->fSetDamage(g_Variables->Self.Weapon.damage_amount);
//			}
//
//			if (g_Variables->Self.Weapon.range_modifier) {
//				SDK::g_Cache->pLocalPed->pWeaponManager()->pWeaponInfo()->fSetRange(g_Variables->Self.Weapon.range_amount);
//			}
//
//			static bool bWasRapidFire = false;
//			if (g_Variables->Self.Weapon.rapid_fire) {
//				SDK::g_Cache->pLocalPed->pWeaponManager()->pWeaponInfo()->SetBulletPatch(g_Variables->Self.Weapon.rapid_fire_amount);
//				bWasRapidFire = true;
//			}
//			else if (!g_Variables->Self.Weapon.explosive_ammo && bWasRapidFire) {
//				SDK::g_Cache->pLocalPed->pWeaponManager()->pWeaponInfo()->SetBulletPatch(0);
//				bWasRapidFire = false;
//			}
//		}
//
//		//Vehicle
//		static bool bWasForceStealVehicle = false;
//		if (g_Variables->Self.Vehicle.force_steal_vehicle) {
//			SDK::g_Cache->pLocalPed->SetConfigFlag(CPED_CONFIG_FLAG_NotAllowedToJackAnyPlayers, false);
//			SDK::g_Cache->pLocalPed->SetConfigFlag(CPED_CONFIG_FLAG_PlayerCanJackFriendlyPlayers, true);
//			SDK::g_Cache->pLocalPed->SetConfigFlag(CPED_CONFIG_FLAG_WillJackAnyPlayer, true);
//			bWasForceStealVehicle = true;
//		}
//		else if (!g_Variables->Self.Vehicle.force_steal_vehicle && bWasForceStealVehicle) {
//			SDK::g_Cache->pLocalPed->SetConfigFlag(CPED_CONFIG_FLAG_NotAllowedToJackAnyPlayers, true);
//			SDK::g_Cache->pLocalPed->SetConfigFlag(CPED_CONFIG_FLAG_PlayerCanJackFriendlyPlayers, false);
//			SDK::g_Cache->pLocalPed->SetConfigFlag(CPED_CONFIG_FLAG_WillJackAnyPlayer, false);
//			bWasForceStealVehicle = false;
//		}
//
//		if (SDK::g_Cache->pLocalPed->pVehicle()) {
//			if (g_Variables->Self.Vehicle.speed_boost) {
//				SDK::g_Cache->pLocalPed->pVehicle()->pHandlingData()->fSetAcceleration(g_Variables->Self.Vehicle.speed_boost_amount);
//			}
//
//			if (g_Variables->Self.Vehicle.pulling_power) {
//				SDK::g_Cache->pLocalPed->pVehicle()->pHandlingData()->fSetTraction(g_Variables->Self.Vehicle.pulling_power_amount);
//			}
//
//			static bool bWasInstantBreak = false;
//			static bool bKeyPressed = false;
//			if (g_Variables->Self.Vehicle.instant_break) {
//				if (GetAsyncKeyState(VK_SPACE) & 1) {
//					SDK::g_Cache->pLocalPed->pVehicle()->pModelInfo()->fClearTask(0.f);
//					bKeyPressed = true;
//				}
//				else if (bKeyPressed) {
//					SDK::g_Cache->pLocalPed->pVehicle()->pModelInfo()->fClearTask(1.f);
//					bKeyPressed = false;
//				}
//			}
//			else if (!g_Variables->Self.Vehicle.instant_break && bWasInstantBreak) {
//				SDK::g_Cache->pLocalPed->pVehicle()->pModelInfo()->fClearTask(1.f);
//				bWasInstantBreak = false;
//				bKeyPressed = false;
//			}
//
//			static bool bWasExtraGrip = false;
//			if (g_Variables->Self.Vehicle.extra_grip) {
//				SDK::g_Cache->pLocalPed->pVehicle()->fSetGravity(g_Variables->Self.Vehicle.extra_grip_amount);
//				bWasExtraGrip = true;
//			}
//			else if (!g_Variables->Self.Vehicle.extra_grip && bWasExtraGrip) {
//				SDK::g_Cache->pLocalPed->pVehicle()->fSetGravity(9.8f);
//				bWasExtraGrip = false;
//			}
//
//			static bool bWasEasyHandling = false;
//			if (g_Variables->Self.Vehicle.extra_grip) {
//				SDK::g_Cache->pLocalPed->pVehicle()->fSetGravity(30.f);
//				bWasEasyHandling = true;
//			}
//			else if (!g_Variables->Self.Vehicle.extra_grip && bWasEasyHandling) {
//				SDK::g_Cache->pLocalPed->pVehicle()->fSetGravity(9.8f);
//				bWasEasyHandling = false;
//			}
//
//			static bool bWasRocketBoost = false;
//			if (g_Variables->Self.Vehicle.rocket_boost) {
//				SDK::g_Cache->pLocalPed->pVehicle()->pModelInfo()->bSetRocketBoost(true);
//				bWasRocketBoost = true;
//			}
//			else if (!g_Variables->Self.Vehicle.rocket_boost && bWasRocketBoost) {
//				SDK::g_Cache->pLocalPed->pVehicle()->pModelInfo()->bSetRocketBoost(false);
//				bWasRocketBoost = false;
//			}
//
//			static bool bWasJumping = false;
//			if (g_Variables->Self.Vehicle.jumping) {
//				SDK::g_Cache->pLocalPed->pVehicle()->pModelInfo()->bSetJumping(true);
//				bWasJumping = true;
//			}
//			else if (!g_Variables->Self.Vehicle.jumping && bWasJumping) {
//				SDK::g_Cache->pLocalPed->pVehicle()->pModelInfo()->bSetJumping(false);
//				bWasJumping = false;
//			}
//
//			static bool bWasParachute = false;
//			if (g_Variables->Self.Vehicle.parachute) {
//				SDK::g_Cache->pLocalPed->pVehicle()->pModelInfo()->bSetParachute(true);
//				bWasParachute = true;
//			}
//			else if (!g_Variables->Self.Vehicle.parachute && bWasParachute) {
//				SDK::g_Cache->pLocalPed->pVehicle()->pModelInfo()->bSetParachute(false);
//				bWasParachute = false;
//			}
//
//			static bool bRocketBoostAndParachute = false;
//			if (g_Variables->Self.Vehicle.rocket_boost && g_Variables->Self.Vehicle.parachute) {
//				SDK::g_Cache->pLocalPed->pVehicle()->pModelInfo()->bSetRocketBoostAndParachute(true);
//				bRocketBoostAndParachute = true;
//			}
//			else if (bRocketBoostAndParachute) {
//				SDK::g_Cache->pLocalPed->pVehicle()->pModelInfo()->bSetRocketBoostAndParachute(false);
//				bRocketBoostAndParachute = false;
//			}
//
//			static bool bJumpingAndParachute = false;
//			if (g_Variables->Self.Vehicle.jumping && g_Variables->Self.Vehicle.parachute) {
//				SDK::g_Cache->pLocalPed->pVehicle()->pModelInfo()->bSetJumpingAndParachute(true);
//				bJumpingAndParachute = true;
//			}
//			else if (bJumpingAndParachute) {
//				SDK::g_Cache->pLocalPed->pVehicle()->pModelInfo()->bSetJumpingAndParachute(false);
//				bJumpingAndParachute = false;
//			}
//
//			if (g_Variables->Self.Vehicle.auto_repair) {
//				SDK::g_Cache->pLocalPed->pVehicle()->btRepair();
//			}
//
//			if (g_Variables->Self.Vehicle.repair) {
//				SDK::g_Cache->pLocalPed->pVehicle()->btRepair();
//				g_Variables->Self.Vehicle.repair = false;
//			}
//
//			if (g_Variables->Self.Vehicle.explode) {
//				SDK::g_Cache->pLocalPed->pVehicle()->fSetBodyHealth(-1.f);
//				SDK::g_Cache->pLocalPed->pVehicle()->fSetTankHealth(-1.f);
//				SDK::g_Cache->pLocalPed->pVehicle()->fSetEngineHealth(-1.f);
//				Sleep(10);
//				SDK::g_Cache->pLocalPed->pVehicle()->fSetTankHealth(-998.f);
//				g_Variables->Self.Vehicle.explode = false;
//			}
//
//			if (g_Variables->Self.Vehicle.destroy_engine) {
//				SDK::g_Cache->pLocalPed->pVehicle()->fSetEngineHealth(-4000.f);
//				g_Variables->Self.Vehicle.destroy_engine = false;
//			}
//
//			static bool bWasGodmode = false;
//			if (g_Variables->Self.Vehicle.godmode) {
//				SDK::g_Cache->pLocalPed->pVehicle()->bSetGodmode(true);
//				bWasGodmode = true;
//			}
//			else if (g_Variables->Self.Vehicle.godmode && bWasGodmode) {
//				SDK::g_Cache->pLocalPed->pVehicle()->bSetGodmode(false);
//				bWasGodmode = false;
//			}
//
//			static bool bWasBulletProofTyres = false;
//			if (g_Variables->Self.Vehicle.bullet_proof_tyres) {
//				SDK::g_Cache->pLocalPed->pVehicle()->SetCanTyresBurst((int)(1 << 5));
//				bWasBulletProofTyres = true;
//			}
//			else if (!g_Variables->Self.Vehicle.bullet_proof_tyres && bWasBulletProofTyres) {
//				SDK::g_Cache->pLocalPed->pVehicle()->SetCanTyresBurst((int)(0));
//				bWasBulletProofTyres = false;
//			}
//
//			if (g_Variables->Self.Vehicle.engine_health_damage) {
//				SDK::g_Cache->pLocalPed->pVehicle()->fSetEngineHealth(2000);
//			}
//
//			if (g_Variables->Self.Vehicle.body_health_damage) {
//				SDK::g_Cache->pLocalPed->pVehicle()->fSetBodyHealth(2000);
//			}
//
//			if (g_Variables->Self.Vehicle.tank_health_damage) {
//				SDK::g_Cache->pLocalPed->pVehicle()->fSetTankHealth(2000);
//			}
//		}
//
//		//Player List
//		static bool bIsSpectatePlayer = false;
//		if (g_Variables->World.PlayerList.bSpectate) {
//			if (!bIsSpectatePlayer) {
//				SDK::g_Cache->pLocalPed->pPlayerInfo()->bSetFreeze(true);
//				SDK::g_Functions->SpectatePed(g_Variables->World.PlayerList.mPointer, true);
//				bIsSpectatePlayer = true;
//			}
//		}
//		else if (!g_Variables->World.PlayerList.bSpectate && bIsSpectatePlayer) {
//			SDK::g_Cache->pLocalPed->pPlayerInfo()->bSetFreeze(false);
//			SDK::g_Functions->SpectatePed(g_Variables->World.PlayerList.mPointer, false);
//			bIsSpectatePlayer = false;
//		}
//
//		//Misc Visuals
//		static bool bWasCustomAltitude = false;
//		if (g_Variables->Visuals.Misc.bCustomAltitude) {
//			SDK::g_Cache->pPedCamera->pCam()->pMetaData()->fSetAltitude(g_Variables->Visuals.Misc.fAltitudeAmount);
//			bWasCustomAltitude = true;
//		}
//		else if (!g_Variables->Visuals.Misc.bCustomAltitude && bWasCustomAltitude) {
//			SDK::g_Cache->pPedCamera->pCam()->pMetaData()->fSetAltitude(1.f);
//			bWasCustomAltitude = false;
//		}
//
//		static bool bWasCustomFoV = false;
//		if (g_Variables->Visuals.Misc.bCustomFoV) {
//			SDK::g_Cache->pPedCamera->pCam()->pMetaData()->fSetFov(g_Variables->Visuals.Misc.iFoVAmount);
//			bWasCustomFoV = true;
//		}
//		else if (!g_Variables->Visuals.Misc.bCustomFoV && bWasCustomFoV) {
//			SDK::g_Cache->pPedCamera->pCam()->pMetaData()->fSetFov(50.f);
//			bWasCustomFoV = false;
//		}
//
//		static bool bWasCustomAimFoV = false;
//		if (g_Variables->Visuals.Misc.bCustomAimFoV) {
//			SDK::g_Cache->pLocalPed->pWeaponManager()->pWeaponInfo()->fSetWeaponFoV(g_Variables->Visuals.Misc.iAimFoVAmount);
//			bWasCustomAimFoV = true;
//		}
//		else if (!g_Variables->Visuals.Misc.bCustomAimFoV && bWasCustomAimFoV) {
//			SDK::g_Cache->pLocalPed->pWeaponManager()->pWeaponInfo()->fSetWeaponFoV(50.f);
//			bWasCustomAimFoV = false;
//		}
//
//		//if (settings.world.teleportation.tp_to_waypoint) {
//		//	SDK::CBlip* CBlip = Cheat::Memory::Read<sdk::CBlip*>((uintptr_t)SDK::g_Pointers->m_blip);
//
//		//	uintptr_t blip;
//		//	if (!CBlip->bBlip(blip, { 8 }, { 84 })) continue;
//
//		//	vec3 vWaypointLocation = CBlip->vLocation(blip);
//		//	vWaypointLocation.z += 1;
//		//	if (vWaypointLocation.z == 21.0) vWaypointLocation.z = -225.0;
//
//		//	SDK::g_Cache->pLocalPed->vSetLocation(vWaypointLocation);
//		//	SDK::g_Cache->pLocalPed->pNavigation()->vSetLocation(vWaypointLocation);
//
//		//	settings.world.teleportation.tp_to_waypoint = false;
//		//}
//
//
//		//
//		//if (settings.visuals.gameplay.change_world_color) {
//		//	std::array<BYTE, 7> nop_array = { 0x90, 0x90, 0x90, 0x90, 0x90, 0x90, 0x90 };
//
//		//	engine::driver.write<std::array<BYTE, 7> >(engine::driver.base_id + 0xE4322F, nop_array); // b2699 | 0F29 A2 B0000000
//
//		//	vec3 color = { settings.visuals.gameplay.colors.world_color.x * 255.0f, settings.visuals.gameplay.colors.world_color.y * 255.0f, settings.visuals.gameplay.colors.world_color.z * 255.0f };
//
//		//	engine::driver.write<vec3>(engine::driver.base_id + 0x27E7A70 + 0xB0, color); // b2699 | rip 48 8D 0D ? ? ? ? E8 ? ? ? ? 83 25 ? ? ? ? 00 48 8D 0D ? ? ? ? F3
//		//	settings.visuals.gameplay.change_world_color = false;
//		//}
//
//
//
//	}
//}